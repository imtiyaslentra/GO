-- Memuat Orion Library
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
local Window = OrionLib:MakeWindow({Name = "Blade Ball AutoParry & AutoSpam", HidePremium = false, SaveConfig = true, ConfigFolder = "BladeBallSettings"})

-- Variabel kontrol untuk Auto Parry dan Auto Spam
local autoParry = false
local autoSpam = false

-- Auto Parry memperhatikan bola dan pemain
function autoParryFunction()
    while autoParry do
        local ball = game.Workspace:FindFirstChild("Ball") -- Sesuaikan dengan nama obyek bola
        local player = game.Players.LocalPlayer
        local char = player.Character or player.CharacterAdded:Wait()

        if ball then
            local ballPosition = ball.Position
            local playerPosition = char.HumanoidRootPart.Position
            local distance = (ballPosition - playerPosition).magnitude

            -- Memastikan bola sedang bergerak dan dalam jarak yang aman
            if ball.Velocity.magnitude > 0 then
                if distance <= 10 then -- Jarak untuk Parry
                    game.ReplicatedStorage.Events.ParryEvent:FireServer() -- Aktifkan Parry
                end
            else
                print("Bola berhenti, Auto Parry mati.")
            end
        end
        wait(0.1) -- Frekuensi pengecekan
    end
end

-- Auto Spam mendeteksi bola dan pemain lain
function autoSpamFunction()
    while autoSpam do
        local ball = game.Workspace:FindFirstChild("Ball") -- Nama bola
        local player = game.Players.LocalPlayer
        local char = player.Character or player.CharacterAdded:Wait()

        if ball then
            local ballPosition = ball.Position
            local playerPosition = char.HumanoidRootPart.Position
            local distance = (ballPosition - playerPosition).magnitude
            local targetPlayer = ball:GetAttribute("TargetPlayer") -- Asumsi bola memiliki atribut target

            -- Memastikan bola mendekati dan target kita
            if ball.Velocity.magnitude > 0 and targetPlayer == player then
                if distance <= 15 then -- Jarak serangan
                    game.ReplicatedStorage.Events.AttackEvent:FireServer() -- Serang otomatis
                end
            else
                print("Bola tidak menargetkan kita atau terlalu jauh, Auto Spam mati.")
            end
        end
        wait(0.1) -- Frekuensi pengecekan
    end
end

-- Membuat Tab di GUI untuk Auto Parry dan Auto Spam
local Tab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Tombol Auto Parry
Tab:AddToggle({
    Name = "Auto Parry",
    Default = false,
    Callback = function(Value)
        autoParry = Value
        if autoParry then
            autoParryFunction()
        end
    end
})

-- Tombol Auto Spam
Tab:AddToggle({
    Name = "Auto Spam",
    Default = false,
    Callback = function(Value)
        autoSpam = Value
        if autoSpam then
            autoSpamFunction()
        end
    end
})

-- GUI Orion Library
OrionLib:Init()
